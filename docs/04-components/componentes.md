# Componentes da Aplica√ß√£o

## üìã Vis√£o Geral

A aplica√ß√£o possui uma biblioteca rica de componentes organizados por funcionalidade. Todos os componentes s√£o constru√≠dos com TypeScript, Tailwind CSS e seguem os padr√µes de design da aplica√ß√£o.

## üèóÔ∏è Estrutura de Componentes

### Hierarquia de Componentes
```mermaid
graph TD
    A[App Layout] --> B[Header]
    A --> C[Sidebar]
    A --> D[Main Content]
    
    B --> B1[Logo]
    B --> B2[Navigation]
    B --> B3[User Info]
    B --> B4[Theme Toggle]
    B --> B5[Language Switcher]
    
    C --> C1[Menu Items]
    C --> C2[Sidebar Context]
    
    D --> D1[Page Component]
    D1 --> D2[Auth Guard]
    D2 --> D3[Page Content]
    
    D3 --> E[UI Components]
    E --> E1[Charts]
    E --> E2[Tables]
    E --> E3[Forms]
    E --> E4[Cards]
    E --> E5[Validation]
    
    style A fill:#3b82f6,stroke:#1e40af,color:#fff
    style D2 fill:#10b981,stroke:#059669,color:#fff
    style E fill:#f59e0b,stroke:#d97706,color:#fff
```

### Arquitetura de Componentes
```mermaid
graph LR
    A[Primitivos UI] --> B[Componentes Base]
    B --> C[Componentes Compostos]
    C --> D[Layouts]
    D --> E[P√°ginas]
    
    A1[Button] --> A
    A2[Input] --> A
    A3[Card] --> A
    
    B1[Form Elements] --> B
    B2[Chart Base] --> B
    B3[Table Base] --> B
    
    C1[Contact Form] --> C
    C2[Chart Widgets] --> C
    C3[Data Tables] --> C
    
    D1[Header] --> D
    D2[Sidebar] --> D
    D3[Auth Guard] --> D
    
    style A fill:#8b5cf6,stroke:#7c3aed,color:#fff
    style B fill:#3b82f6,stroke:#1e40af,color:#fff
    style C fill:#10b981,stroke:#059669,color:#fff
    style D fill:#f59e0b,stroke:#d97706,color:#fff
    style E fill:#ef4444,stroke:#dc2626,color:#fff
```

### Diret√≥rio `components/`
```
components/
‚îú‚îÄ‚îÄ Breadcrumbs/           # Navega√ß√£o breadcrumb
‚îú‚îÄ‚îÄ CalenderBox/           # Widget de calend√°rio
‚îú‚îÄ‚îÄ Charts/                # Componentes de gr√°ficos
‚îú‚îÄ‚îÄ FormElements/          # Elementos de formul√°rio
‚îú‚îÄ‚îÄ Layouts/               # Componentes de layout
‚îú‚îÄ‚îÄ Tables/                # Componentes de tabelas
‚îú‚îÄ‚îÄ ui-elements/           # Elementos base de UI
‚îú‚îÄ‚îÄ ui/                    # Componentes primitivos
‚îÇ   ‚îú‚îÄ‚îÄ badge.tsx          # Badge component
‚îÇ   ‚îú‚îÄ‚îÄ spinner.tsx        # Spinner component
‚îÇ   ‚îú‚îÄ‚îÄ dropdown.tsx       # Dropdown menu
‚îÇ   ‚îú‚îÄ‚îÄ skeleton.tsx       # Loading skeleton
‚îÇ   ‚îî‚îÄ‚îÄ table.tsx          # Table base
‚îú‚îÄ‚îÄ auth-guard.tsx         # Prote√ß√£o de rotas
‚îú‚îÄ‚îÄ language-switcher.tsx  # Seletor de idioma
‚îú‚îÄ‚îÄ logo.tsx               # Componente do logo
‚îî‚îÄ‚îÄ period-picker.tsx      # Seletor de per√≠odo
```

### Diret√≥rio `hooks/`
```
hooks/
‚îú‚îÄ‚îÄ use-click-outside.ts   # Hook para cliques externos
‚îú‚îÄ‚îÄ use-mobile.ts          # Hook para detec√ß√£o mobile
‚îú‚îÄ‚îÄ use-toast.ts           # Hook para toast notifications
‚îî‚îÄ‚îÄ useNavigation.ts       # Hook para navega√ß√£o
```

### Diret√≥rio `providers/`
```
providers/
‚îî‚îÄ‚îÄ toast-provider.tsx    # Provider para toast notifications
```

## üé® Componentes de Layout

### Header (`Layouts/header/`)
```typescript
// Localiza√ß√£o: src/components/Layouts/header/index.tsx
```

**Funcionalidades:**
- Logo da aplica√ß√£o
- Navega√ß√£o principal
- Notifica√ß√µes
- Toggle de tema (dark/light)
- Informa√ß√µes do usu√°rio
- Seletor de idioma

**Sub-componentes:**
- `notification/` - Sistema de notifica√ß√µes
- `theme-toggle/` - Switch dark/light mode
- `user-info/` - Menu do usu√°rio

### Sidebar (`Layouts/sidebar/`)
```typescript
// Localiza√ß√£o: src/components/Layouts/sidebar/index.tsx
```

**Funcionalidades:**
- Menu de navega√ß√£o lateral
- Suporte a internacionaliza√ß√£o
- Items expans√≠veis
- Design responsivo
- Estados ativos/inativos

**Arquivos principais:**
- `index.tsx` - Componente principal
- `menu-item.tsx` - Item individual do menu
- `sidebar-context.tsx` - Context para estado
- `hooks/useExpandedItems.ts` - Hook para expans√£o
- `hooks/useInternationalizedRoutes.ts` - Hook para rotas i18n

## üìä Componentes de Gr√°ficos

### Charts (`Charts/`)

#### Campaign Visitors
```typescript
// Localiza√ß√£o: src/components/Charts/campaign-visitors/
```
- Gr√°fico de visitantes de campanha
- Integra√ß√£o com ApexCharts
- Dados din√¢micos

#### Payments Overview
```typescript
// Localiza√ß√£o: src/components/Charts/payments-overview/
```
- Vis√£o geral de pagamentos
- Gr√°fico de barras/linhas
- Per√≠odo customiz√°vel

#### Used Devices
```typescript
// Localiza√ß√£o: src/components/Charts/used-devices/
```
- Estat√≠sticas de dispositivos
- Gr√°fico de pizza/donut
- Responsivo

#### Weeks Profit
```typescript
// Localiza√ß√£o: src/components/Charts/weeks-profit/
```
- Lucro semanal
- Gr√°fico de √°rea
- Comparativo de per√≠odos

## üìù Elementos de Formul√°rio

### FormElements (`FormElements/`)

#### Checkboxes
- `CheckboxOne.tsx` - Checkbox b√°sico
- `CheckboxTwo.tsx` - Checkbox com label
- `CheckboxThree.tsx` - Checkbox customizado
- `CheckboxFour.tsx` - Checkbox com √≠cone
- `CheckboxFive.tsx` - Checkbox avan√ßado

#### Date Pickers
- `DatePickerOne.tsx` - Seletor de data simples
- `DatePickerTwo.tsx` - Seletor de data com range

#### Input Groups
- `index.tsx` - Input com √≠cones e labels
- `text-area.tsx` - √Årea de texto

#### Switchers
- `SwitcherOne.tsx` - Switch b√°sico
- `SwitcherTwo.tsx` - Switch com label
- `SwitcherThree.tsx` - Switch customizado
- `SwitcherFour.tsx` - Switch avan√ßado

#### Outros Elementos
- `MultiSelect.tsx` - Seletor m√∫ltiplo
- `checkbox.tsx` - Checkbox base
- `radio.tsx` - Radio button
- `select.tsx` - Select dropdown
- `switch.tsx` - Switch base

## üìã Componentes de Tabelas

### Tables (`Tables/`)

#### Invoice Table
```typescript
// Localiza√ß√£o: src/components/Tables/invoice-table.tsx
```
- Tabela de faturas
- Pagina√ß√£o
- Ordena√ß√£o
- Filtros

#### Top Channels
```typescript
// Localiza√ß√£o: src/components/Tables/top-channels/
```
- Principais canais
- Skeleton loading
- Dados din√¢micos

#### Top Products
```typescript
// Localiza√ß√£o: src/components/Tables/top-products/
```
- Produtos principais
- Imagens de produtos
- Estat√≠sticas

## üéØ Elementos de UI

### ui-elements (`ui-elements/`)

#### Alert
```typescript
// Localiza√ß√£o: src/components/ui-elements/alert/
```
- Alertas de sucesso, erro, warning, info
- √çcones customizados
- Dismiss autom√°tico

#### Button
```typescript
// Localiza√ß√£o: src/components/ui-elements/button.tsx
```
- M√∫ltiplas variantes
- Estados (loading, disabled)
- Tamanhos diferentes

### ui (Primitivos) (`ui/`)

#### Badge
```typescript
// Localiza√ß√£o: src/components/ui/badge.tsx
```
**Funcionalidades:**
- 6 variantes de cor (default, primary, success, warning, error, info)
- 3 tamanhos (sm, md, lg)
- Suporte a √≠cones
- Badge de notifica√ß√£o (dot)
- Badge remov√≠vel com bot√£o X
- Dark/light mode autom√°tico
- CVA (Class Variance Authority) para variants

**Exemplos de uso:**
```typescript
<Badge>Novo</Badge>
<Badge variant="success">Aprovado</Badge>
<Badge size="lg" variant="error">Erro</Badge>
<Badge dot variant="primary">5</Badge>
<Badge removable onRemove={() => handleRemove()}>Tag</Badge>
<Badge icon={<CheckIcon />} variant="success">Verificado</Badge>
```

#### Spinner
```typescript
// Localiza√ß√£o: src/components/ui/spinner.tsx
```
**Funcionalidades:**
- 5 variantes visuais (ring, dots, pulse, bars, bounce)
- 5 tamanhos (xs, sm, md, lg, xl)
- 6 cores (primary, white, gray, success, warning, error)
- 3 velocidades (slow, normal, fast)
- Suporte a texto de loading
- LoadingOverlay para p√°ginas inteiras
- Anima√ß√µes CSS otimizadas

**Exemplos de uso:**
```typescript
<Spinner />
<Spinner variant="dots" size="lg" />
<Spinner text="Carregando..." />
<LoadingOverlay isLoading={loading} text="Processando...">
  <div>Conte√∫do</div>
</LoadingOverlay>
```

#### Toast
```typescript
// Localiza√ß√£o: src/hooks/use-toast.ts + src/providers/toast-provider.tsx
```
**Funcionalidades:**
- 5 tipos (success, error, warning, info, loading)
- Auto-dismiss configur√°vel
- Stack inteligente de m√∫ltiplos toasts
- Suporte a a√ß√µes (bot√µes)
- Promise support com estados autom√°ticos
- Dark/light mode autom√°tico
- Posicionamento configur√°vel

**Exemplos de uso:**
```typescript
const { toast, success, error, loading } = useToast();

success("Opera√ß√£o realizada!");
error("Erro ao processar");

toast({
  title: "Email enviado",
  description: "Sucesso ao enviar",
  variant: "success",
  action: {
    label: "Ver",
    onClick: () => console.log("Ver email")
  }
});

loading("Salvando...", fetch('/api/save'));
```

#### Dropdown
```typescript
// Localiza√ß√£o: src/components/ui/dropdown.tsx
```
- Menu dropdown base
- Posicionamento autom√°tico
- Keyboard navigation

#### Skeleton
```typescript
// Localiza√ß√£o: src/components/ui/skeleton.tsx
```
- Loading states
- Anima√ß√£o de shimmer
- Tamanhos vari√°veis

#### Table
```typescript
// Localiza√ß√£o: src/components/ui/table.tsx
```
- Tabela base
- Responsiva
- Estiliza√ß√£o consistente

## üõ°Ô∏è Componentes de Prote√ß√£o

### Auth Guard
```typescript
// Localiza√ß√£o: src/components/auth-guard.tsx
```
- Prote√ß√£o de rotas
- Redirecionamento autom√°tico
- Loading states

## üåç Componentes de Internacionaliza√ß√£o

### Language Switcher
```typescript
// Localiza√ß√£o: src/components/language-switcher.tsx
```
- Seletor de idioma
- Flags dos pa√≠ses
- Persist√™ncia da escolha

## üìÖ Componentes Utilit√°rios

### Calendar Box
```typescript
// Localiza√ß√£o: src/components/CalenderBox/index.tsx
```
- Widget de calend√°rio
- Navega√ß√£o de meses
- Eventos destacados

### Period Picker
```typescript
// Localiza√ß√£o: src/components/period-picker.tsx
```
- Seletor de per√≠odo
- Per√≠odos pr√©-definidos
- Range customizado

### Breadcrumbs
```typescript
// Localiza√ß√£o: src/components/Breadcrumbs/Breadcrumb.tsx
```
- Navega√ß√£o breadcrumb
- Separadores customizados
- Links ativos

### Logo
```typescript
// Localiza√ß√£o: src/components/logo.tsx
```
- Logo da aplica√ß√£o
- Vers√µes dark/light
- Tamanhos responsivos

## üé® Padr√µes de Design

### Conven√ß√µes de Naming
- **PascalCase** para componentes
- **camelCase** para props e fun√ß√µes
- **kebab-case** para arquivos CSS

### Props Interface
```typescript
interface ComponentProps {
  children?: React.ReactNode;
  className?: string;
  variant?: 'primary' | 'secondary' | 'outline';
  size?: 'sm' | 'md' | 'lg';
  disabled?: boolean;
}
```

### Estrutura de Componente
```typescript
import { ComponentProps } from './types';

export function Component({ 
  children, 
  className, 
  variant = 'primary',
  ...props 
}: ComponentProps) {
  return (
    <div className={cn('base-classes', className)} {...props}>
      {children}
    </div>
  );
}
```

## üîß Customiza√ß√£o

### Tailwind Classes
Todos os componentes usam classes Tailwind CSS customiz√°veis:
- **Cores**: Sistema de cores baseado em CSS variables
- **Espa√ßamento**: Grid system consistente
- **Tipografia**: Fonte Satoshi personalizada

### Tema Dark/Light
Componentes automaticamente se adaptam ao tema escolhido usando:
- `dark:` prefix para modo escuro
- CSS variables para cores din√¢micas
- next-themes para persist√™ncia

### Responsividade
Todos os componentes seguem abordagem mobile-first:
- Breakpoints padr√£o do Tailwind
- Design adapt√°vel
- Touch-friendly em dispositivos m√≥veis

## üìù Componentes de Valida√ß√£o

### Sistema de Formul√°rios Avan√ßado
A aplica√ß√£o inclui um sistema robusto de valida√ß√£o constru√≠do com **Zod** e **React Hook Form**:

#### Hook useFormValidation
```typescript
const form = useFormValidation<UserFormData>({
  schema: userRegistrationSchema,
  onSubmit: async (data) => { /* ... */ }
});
```

**Funcionalidades:**
- ‚úÖ Type-safe validation com TypeScript
- ‚úÖ Valida√ß√£o em tempo real com debounce
- ‚úÖ Estados de formul√°rio reativos
- ‚úÖ Integra√ß√£o autom√°tica com Zod schemas

#### Componente ValidatedInput
```typescript
<ValidatedInput
  name="email"
  label="Email"
  type="email"
  error={error}
  validationState={state}
  showValidationIcon={true}
/>
```

**Estados Visuais:**
- üîç Loading durante valida√ß√£o ass√≠ncrona
- ‚úÖ Sucesso (borda verde + √≠cone check)
- ‚ùå Erro (borda vermelha + mensagem)
- üìù Modificado (indicador de altera√ß√£o)

#### Componente FormInput
Wrapper simplificado que conecta automaticamente com o contexto do formul√°rio:

```typescript
<FormInput
  name="email"
  label="Email"
  formContext={form}
  helpText="Digite um email v√°lido"
/>
```

#### Hook useCepLookup
Hook especializado para consulta autom√°tica de CEP via API ViaCEP:

```typescript
const cepLookup = useCepLookup({
  onSuccess: (data) => { /* preencher campos */ },
  onError: (error) => { /* tratar erro */ },
  debounceMs: 800
});
```

**Funcionalidades:**
- üîç Valida√ß√£o de formato CEP brasileiro
- üìç Consulta autom√°tica via ViaCEP
- ‚ö° Cache para evitar consultas repetidas
- üéØ Debounce configur√°vel
- üìä Estados de loading/error/success

#### Componente AddressForm
Formul√°rio completo de endere√ßo com consulta autom√°tica de CEP:

```typescript
<AddressForm
  title="Endere√ßo de Entrega"
  onSubmit={async (data) => { /* dados validados */ }}
  autoFillFromCep={true}
  defaultValues={{ country: "Brasil" }}
/>
```

**Recursos:**
- üáßüá∑ Preenchimento autom√°tico via CEP
- üì± Layout responsivo
- ‚úÖ Valida√ß√£o completa de todos os campos
- üé® Feedback visual de status
- üßπ Reset f√°cil do formul√°rio

### Valida√ß√µes Brasileiras Inclu√≠das

#### CPF (Cadastro de Pessoa F√≠sica)
- Formato: 000.000.000-00
- Valida√ß√£o completa com d√≠gitos verificadores
- Mensagens de erro em portugu√™s

#### CNPJ (Cadastro Nacional de Pessoa Jur√≠dica)
- Formato: 00.000.000/0000-00
- Valida√ß√£o completa com d√≠gitos verificadores
- Suporte a formata√ß√£o autom√°tica

#### CEP (C√≥digo de Endere√ßamento Postal)
- Formato: 00000-000
- Consulta autom√°tica via API ViaCEP
- Preenchimento autom√°tico de endere√ßo

#### Telefone Brasileiro
- Formato: (XX) XXXXX-XXXX
- Suporte a celular e fixo
- Valida√ß√£o de DDD v√°lido

### Schemas Dispon√≠veis

#### Schema de Cadastro de Usu√°rio
```typescript
const userRegistrationSchema = z.object({
  name: z.string().min(2, "Nome muito curto"),
  email: z.string().email("Email inv√°lido"),
  phone: phoneValidation,
  birthDate: z.date().max(new Date(), "Data inv√°lida"),
  password: passwordSchema,
  confirmPassword: z.string(),
  acceptTerms: z.boolean().refine(val => val, "Aceite os termos")
});
```

#### Schema de Endere√ßo
```typescript
const addressSchema = z.object({
  cep: cepValidation,
  street: z.string().min(5, "Logradouro obrigat√≥rio"),
  number: z.string().min(1, "N√∫mero obrigat√≥rio"),
  complement: z.string().optional(),
  neighborhood: z.string().min(2, "Bairro obrigat√≥rio"),
  city: z.string().min(2, "Cidade obrigat√≥ria"),
  state: z.string().length(2, "Estado inv√°lido"),
  country: z.string().min(2, "Pa√≠s obrigat√≥rio")
});
```

### Exemplo de Uso Completo

```typescript
// 1. Definir schema
const contactSchema = z.object({
  name: z.string().min(2, "Nome obrigat√≥rio"),
  email: z.string().email("Email inv√°lido"),
  message: z.string().min(10, "Mensagem muito curta")
});

// 2. Usar hook de valida√ß√£o
const form = useFormValidation({
  schema: contactSchema,
  onSubmit: async (data) => {
    await sendMessage(data); // dados j√° validados
  }
});

// 3. Renderizar formul√°rio
<form onSubmit={form.handleSubmit}>
  <FormInput 
    name="name" 
    label="Nome" 
    formContext={form} 
  />
  <FormInput 
    name="email" 
    label="Email" 
    type="email"
    formContext={form} 
  />
  <FormInput 
    name="message" 
    label="Mensagem" 
    formContext={form} 
  />
  
  <button 
    type="submit" 
    disabled={!form.formState.isValid}
  >
    Enviar
  </button>
</form>
```

Para exemplos completos e funcionais, acesse `/forms/validated-forms` na aplica√ß√£o.